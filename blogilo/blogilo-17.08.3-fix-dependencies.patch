From 0ad74f6ca737e547c2181be11e00d2703db63616 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Daniel=20Vr=C3=A1til?= <dvratil@kde.org>
Date: Wed, 13 Sep 2017 14:16:14 +0200
Subject: [PATCH] Fix dependencies to build without KDELibs4Support

---
 CMakeLists.txt     | 3 ++-
 src/CMakeLists.txt | 2 ++
 src/backend.cpp    | 1 -
 3 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 2e9fa78..9a29c64 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -58,7 +58,8 @@ find_package(KF5SyntaxHighlighting ${KF5_VERSION} CONFIG REQUIRED)
 find_package(KF5TextEditor ${KF5_VERSION} CONFIG REQUIRED)
 find_package(KF5Wallet ${KF5_VERSION} CONFIG REQUIRED)
 find_package(KF5XmlGui ${KF5_VERSION} CONFIG REQUIRED)
-
+find_package(KF5KIO ${KF5_VERSION} CONFIG REQUIRED)
+find_package(KF5Notifications ${KF5_VERSION} CONFIG REQUIRED)
 
 # Find KdepimLibs Package
 find_package(KF5Blog ${KBLOG_LIB_VERSION} CONFIG REQUIRED)
diff --git a/src/CMakeLists.txt b/src/CMakeLists.txt
index ffb4365..53cfed7 100644
--- a/src/CMakeLists.txt
+++ b/src/CMakeLists.txt
@@ -85,6 +85,8 @@ target_link_libraries(blogilo
     KF5::WebEngineViewer
     KF5::Crash
     KF5::SyntaxHighlighting
+    KF5::KIOFileWidgets
+    KF5::Notifications
     )
 
 if (KPimGAPI_FOUND)
diff --git a/src/backend.cpp b/src/backend.cpp
index 8af3e4b..ee0f7ec 100644
--- a/src/backend.cpp
+++ b/src/backend.cpp
@@ -40,7 +40,6 @@
 #include "blogilo_debug.h"
 #include <KLocalizedString>
 
-#include <kio/netaccess.h>
 #include <kio/job.h>
 
 const QRegExp splitRX(QStringLiteral("((<hr/?>)?<!--split-->)"));
-- 
2.16.2

